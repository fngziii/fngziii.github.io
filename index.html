<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏ä‡πá‡∏Ñ‡∏´‡∏ß‡∏¢ - ‡∏á‡∏ß‡∏î 1 ‡∏Å.‡∏û. 69</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@400;600&display=swap" rel="stylesheet">

<style>
body{background:#f0f2f5;font-family:'Sarabun',sans-serif;padding-bottom:80px}
.container{max-width:600px}
.stat-card{background:#fff;border-radius:15px;padding:15px;text-align:center;box-shadow:0 2px 10px rgba(0,0,0,.05)}
.ticket-item{background:#fff;border-radius:12px;margin-bottom:10px;padding:15px;border-left:6px solid #e9ecef}
.status-free{border-left-color:#ced4da}
.status-pending{border-left-color:#ffc107;background:#fffbf0}
.status-paid{border-left-color:#198754;background:#f0f9f4}
.lotto-num{font-size:1.6rem;font-weight:800;letter-spacing:2px}
</style>
</head>

<body>
<div class="container mt-4">

<div class="d-flex justify-content-between align-items-center mb-3">
  <div>
    <small class="text-muted" style="font-size:12px">‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏ä‡πá‡∏Ñ‡∏´‡∏ß‡∏¢</small>
    <h5 class="fw-bold m-0">
      <i class="fas fa-store text-primary"></i> ‡πÅ‡∏ú‡∏á‡∏´‡∏ß‡∏¢ (1 ‡∏Å.‡∏û. 69)
    </h5>
  </div>
  <div class="text-end">
    <button class="btn btn-sm btn-primary mb-1" onclick="showPersonSummary()">‡∏™‡∏£‡∏∏‡∏õ‡∏£‡∏≤‡∏¢‡∏Ñ‡∏ô</button>
    <button class="btn btn-sm btn-dark mb-1" onclick="showSummary()">‡∏™‡∏£‡∏∏‡∏õ‡∏¢‡∏≠‡∏î</button>
    <button class="btn btn-sm btn-outline-danger" onclick="clearData()">‡∏•‡πâ‡∏≤‡∏á‡πÉ‡∏´‡∏°‡πà</button>
  </div>
</div>

<div class="row g-2 mb-3">
  <div class="col-6">
    <div class="stat-card">
      <small class="text-muted">‡∏Ç‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß (‡πÄ‡∏•‡∏Ç)</small>
      <div class="fw-bold text-primary" id="soldCount">0</div>
    </div>
  </div>
  <div class="col-6">
    <div class="stat-card">
      <small class="text-muted">‡∏£‡∏±‡∏ö‡πÄ‡∏á‡∏¥‡∏ô‡πÅ‡∏•‡πâ‡∏ß (‡∏ö‡∏≤‡∏ó)</small>
      <div class="fw-bold text-success" id="moneyCount">0</div>
    </div>
  </div>
</div>

<input id="searchInput" class="form-control form-control-lg mb-3"
 placeholder="üîç ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÄ‡∏•‡∏Ç..." onkeyup="renderList()">

<div id="lottoList"></div>
</div>

<script –≤—ã–ø–∞–¥></script>

<script>
const PRICE_PER_SET = 400; // 2 ‡πÉ‡∏ö
const rawData = [
  "078404","960808","066110","005812","845214",
  "282316","354518","523420","284422","090924",
  "885326","971828","360232","387534","855546",
  "575148","713950","622952","531954","938556",
  "169558","209360","281662","353964","378268",
  "300070","442872","585674","037376","888578",
  "717880","925082","867884","440386","334388",
  "338790","908092","522594","285096","194198"
];

let tickets=[];

function init(){
const saved=localStorage.getItem("myLottoShop");
if(saved) tickets=JSON.parse(saved);
else resetTickets();
renderList();
}

function resetTickets(){
tickets = rawData.map(n=>({
  number:n,
  customer:"",
  isPaid:false
}));
save();
}

function renderList(){
const s=document.getElementById("searchInput").value;
const list=document.getElementById("lottoList");
list.innerHTML="";
let sold=0,money=0;

tickets.forEach((t,i)=>{
if(t.customer){
sold++;
if(t.isPaid) money+=PRICE_PER_SET;
}
if(!t.number.includes(s)) return;

list.innerHTML+=`
<div class="ticket-item ${t.customer?(t.isPaid?'status-paid':'status-pending'):'status-free'}">
<div class="d-flex justify-content-between mb-2">
<span class="lotto-num">${t.number}</span>
<span class="badge ${t.customer?(t.isPaid?'bg-success':'bg-warning text-dark'):'bg-secondary'}">
${t.customer?(t.isPaid?'‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß':'‡∏£‡∏≠‡πÇ‡∏≠‡∏ô'):'‡∏ß‡πà‡∏≤‡∏á (2 ‡πÉ‡∏ö)'}
</span>
</div>
<div class="row g-2">
<div class="col-8">
<input class="form-control form-control-sm" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ (‡∏ã‡∏∑‡πâ‡∏≠ 2 ‡πÉ‡∏ö)"
value="${t.customer}" onchange="updateCustomer(${i},this.value)">
</div>
<div class="col-4">
<button class="btn btn-sm w-100 ${t.isPaid?'btn-success':'btn-outline-secondary'}"
onclick="togglePaid(${i})" ${!t.customer?'disabled':''}>
${t.isPaid?'‡∏£‡∏±‡∏ö‡πÅ‡∏•‡πâ‡∏ß':'‡∏£‡∏±‡∏ö‡πÄ‡∏á‡∏¥‡∏ô'}
</button>
</div>
</div>
</div>`;
});

soldCount.innerText = sold + "/40 ‡πÄ‡∏•‡∏Ç (80 ‡πÉ‡∏ö)";
moneyCount.innerText = money.toLocaleString();
}

function updateCustomer(i,v){
tickets[i].customer=v;
if(!v) tickets[i].isPaid=false;
save();
}

function togglePaid(i){
tickets[i].isPaid=!tickets[i].isPaid;
save();
}

function save(){
localStorage.setItem("myLottoShop",JSON.stringify(tickets));
renderList();
}

function clearData(){
if(confirm("‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î?")) resetTickets();
}

function showPersonSummary(){
const names=[...new Set(tickets.filter(t=>t.customer&&!t.isPaid).map(t=>t.customer))];
let txt="";
names.forEach(n=>{
const count=tickets.filter(t=>t.customer===n&&!t.isPaid).length;
txt+=`üìå ${n}\n‡πÄ‡∏•‡∏Ç ${count} ‡∏ä‡∏∏‡∏î = ${count*PRICE_PER_SET} ‡∏ö‡∏≤‡∏ó\n\n`;
});
alert(txt || "‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡πâ‡∏≤‡∏á‡∏à‡πà‡∏≤‡∏¢");
}

function showSummary(){
let sold=0,paid=0,pending=0,money=0;

tickets.forEach(t=>{
if(t.customer){
sold++;
if(t.isPaid){
paid++;
money+=PRICE_PER_SET;
}else{
pending++;
}
}
});

alert(
`üìä ‡∏™‡∏£‡∏∏‡∏õ‡∏¢‡∏≠‡∏î‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
‡∏Ç‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß ${sold} ‡πÄ‡∏•‡∏Ç (80 ‡πÉ‡∏ö)
‡∏£‡∏±‡∏ö‡πÄ‡∏á‡∏¥‡∏ô‡πÅ‡∏•‡πâ‡∏ß ${paid} ‡πÄ‡∏•‡∏Ç
‡∏Ñ‡πâ‡∏≤‡∏á‡∏à‡πà‡∏≤‡∏¢ ${pending} ‡πÄ‡∏•‡∏Ç
‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ö‡πÅ‡∏•‡πâ‡∏ß ${money.toLocaleString()} ‡∏ö‡∏≤‡∏ó`
);
}

init();
</script>
</body>
</html>
